# 목차
## [1. 개념](#1-개념)
## [2. 이상 현상이란?](#2-이상-현상이란)
### [2.1 삽입 이상](#21-삽입-이상)
### [2.2 갱신 이상](#22-갱신-이상)
### [2.3 삭제 이상](#23-삭제-이상)
## [3. 함수적 종속](#3-함수적-종속)
### [3.1 개념](#31-개념)
### [3.2 종류](#32-종류)
## [4. 정규형의 종류](#4-정규형의-종류)
### [4.1 제1정규형](#41-제1정규형)
### [4.2 제2정규형](#42-제2정규형)
### [4.3 제3정규형](#43-제3정규형)
### [4.4 보이스-코드 정규형](#44-보이스-코드-정규형)
### [4.5 제4정규형](#45-제4정규형)
### [4.6 제5정규형](#46-제5정규형)
# 1. 개념
불필요한 데이터 중복으로 인해 발생하는 이상 현상을 방지하기 위해 릴레이션을 관련 있는 속성들로만 구성하도록 릴레이션을 분해하는 것
# 2. 이상 현상이란?
이상 현상은 삽입 이상, 갱신 이상, 삭제 이상으로 구분된다.
## 2.1 삽입 이상
### 2.1.1 개념
    새로운 데이터를 삽입할 때 불필요한 데이터도 함께 삽입하여 데이터가 삽입되지 않는 경우  
### 2.1.2 예제
고객아이디, 이벤트번호 속성이 Not Null인 이벤트 릴레이션에서 이벤트와 무관한 새로운 고객정보를 추가하고자 할 때, 이벤트번호, 당첨여부가 Null이므로 데이터 삽입 불가하게 됨  
![image](https://user-images.githubusercontent.com/62678386/191034169-f87a2d50-9e3d-49f9-8e5a-06514a40fe48.png)

## 2.2 갱신 이상
### 2.2.1 개념
    릴레이션 내 중복된 튜플 중 일부만 갱신하여 데이터 불일치가 발생하는 경우
### 2.2.2 예제 
릴레이션 내에 고객아이디가 중복되는 튜플이 존재하는 경우, 이상민 고객의 등급이 VIP로 상향되었으나, 일부 데이터만 VIP로 변경되어 동일한 고객아이디가 서로 다른 등급을 가지게 되는 데이터 불일치 현상 발생
![image](https://user-images.githubusercontent.com/62678386/191035063-11bee8de-5ad1-4982-8ce6-dec31fdfed88.png)

## 2.3 삭제 이상
### 2.3.1 개념
    튜플 삭제 시 꼭 필요한 데이터까지 삭제되어 데이터 손실이 발생하는 경우
### 2.3.2 예제
마니 고객이 이벤트를 취소하여 해당 데이터를 삭제한 경우, 고객 정보(고객아이디, 고객이름, 등급)까지 삭제되어 데이터 손실 발생  
![image](https://user-images.githubusercontent.com/62678386/191036177-3995f3d4-95b8-44e3-ac02-f3245ae93d12.png)


# 3. 함수적 종속
## 3.1 개념
함수적 종속이란 정규화 시 릴레이션을 관련 있는 속성들로만 구성하기 위해 필요한 개념으로,  
릴레이션 R에 속하는 속성집합 X, Y에 대하여 X가 Y를 결정할 때, 즉 Y가 X에 종속되는 경우 속성집합 Y가 속성집합 X에 ***함수 종속***되었다고 합니다.  
이 경우 X를 결정자, Y를 종속자라고 하며 X → Y 로 표현합니다.
## 3.2 함수 종속 판단 예시
- 예시 1  
고객아이디 속성은 고객이름 속성을 결정하며, 동시에 등급 속성을 결정합니다.
![image](https://user-images.githubusercontent.com/62678386/191040523-75ca7b73-555c-4959-b13f-e6da04aa66a4.png)  
- 예시 2  
고객아이디 속성은 고객이름 속성을 결정하며, (고객아이디, 이벤트번호)는 당첨여부 속성을 결정합니다.
![image](https://user-images.githubusercontent.com/62678386/191042121-12b42d06-369d-486d-a123-1616cca669e2.png)

## 3.2 종류
### 3.2.1 완전 함수 종속
#### ① 개념
    릴레이션 R에 속하는 속성집합 X, Y에 대하여 Y가 X의 전체집합에 함수 종속인 경우 Y는 X에 '완전 함수 종속'되었다고 함
#### ② 예시
당첨여부 속성은 (고객아이디, 이벤트번호) 전체 집합에 의해 결정되므로 완전 함수 종속됨
![image](https://user-images.githubusercontent.com/62678386/191042907-e61149c8-dfd2-44d8-95fc-bdde6319cb26.png)
### 3.2.2 부분 함수 종속
#### ① 개념
    릴레이션 R에 속하는 속성집합 X, Y에 대하여 Y가 X의 일부 집합에 함수 종속인 경우 Y는 X에 '부분 함수 종속'되었다고 함
#### ② 예시
고객이름 속성은 (고객아이디, 이벤트번호)에 의해 결정되지만 부분 집합인 고객아이디 속성에 의해 결정되므로 부분 함수 종속되었음
![image](https://user-images.githubusercontent.com/62678386/191043724-094aa24a-bb9c-4dfc-9a9a-45b75130b9c0.png)
### 3.2.3 이행적 합수 종속
#### ① 개념
    릴레이션 R에 속하는 속성집합 X, Y, Z에 대하여 Y가 X에 함수 종속(X → Y)이고, Z가 Y(Y → Z)에 함수 종속인 경우 논리적으로 Z가 X에 함수 종속(X → Z)으로 귀결되는 것
#### ② 예시
고객아이디 속성이 등급 속성을 결정하고, 등급 속성이 할인율 속성을 결정함으로써, 고객아이디 속성이 할인율 속성을 결정하도록 논리적으로 귀결되어 Z는 X에 이행적 함수 종속되었음
![image](https://user-images.githubusercontent.com/62678386/191045738-cd9d86f5-427f-4a07-a73d-593099930dba.png)

# 4. 정규형의 종류
## 4.1 제1정규형
### 4.1.1 개념
    다중값 속성을 제거함으로써 모든 속성의 도메인이 원자값을 가져야 함
### 4.1.2 예시
왼쪽의 릴레이션의 이벤트번호와 당첨여부 속성은 다중값 속성에 해당하므로 원자값을 갖도록 오른쪽의 릴레이션과 같이 분해한다.
![image](https://user-images.githubusercontent.com/62678386/191194897-f19451cd-b346-42eb-8c5b-712f869b25b3.png)
## 4.2 제2정규형
### 4.2.1 개념
    부분 함수 종속을 제거하여 제1정규형을 만족하면서 기본키가 아닌 모든 속성이 기본키에 완전 함수 종속이어야 함 
### 4.2.2 예시
위의 제1정규형의 예시에서 제1정규형을 만족하는 릴레이션의 함수 종속 관계는 다음과 같다.
![image](https://user-images.githubusercontent.com/62678386/191197272-c2393e5b-5858-4daf-94aa-a5ced4567df1.png)
당첨여부 속성은 릴레이션의 기본키인 (고객아이디,이벤트번호)에 의해 결정되지만 등급과 할인율 속성은 기본키의 부분집합인 고객아이디에 의해 결정되어 부분 함수 종속이 존재한다.
따라서 고객 릴레이션과 이벤트참여 릴레이션으로 분해한다.
![image](https://user-images.githubusercontent.com/62678386/191198682-563b027a-9eb8-4315-b8f2-9a412f632ea3.png)
## 4.3 제3정규형
### 4.3.1 개념
    릴레이션이 제2정규형을 만족하면서 기본키가 아닌 모든 속성이 기본키에 이행적 함수 종속되지 않아야함
### 4.3.2 예시
고객 릴레이션에서 고객아이디는 등급을 결정하고, 등급은 할인율을 결정하게 되어 결과적으로 다음의 그림과 같이 할인율이 고객아이디에 이행적 함수 종속된다.
![image](https://user-images.githubusercontent.com/62678386/191045738-cd9d86f5-427f-4a07-a73d-593099930dba.png)
따라서 이행적 함수 종속을 제거하기 위해 고객 릴레이션과 고객등급 릴레이션으로 분해한다.
![image](https://user-images.githubusercontent.com/62678386/191200345-630fc1a9-68c2-4b33-a4c7-4df008618ac5.png)
## 4.4 보이스-코드 정규형
### 4.4.1 개념
    릴레이션이 제3정규형을 만족하면서 모든 결정자가 후보키이어야 함 
### 4.4.2 예시

## 4.5 제4정규형
### 4.5.1 개념
    릴레이션이 보이스-코드 정규형을 만족하면서 다치 종속(하나의 속성이 다른 속성의 여러 값을 결정)이 제거되어야 함

## 4.6 제5정규형
### 4.6.1 개념
    릴레이션이 제4정규형을 만족하면서 조인 종속이 제거되어야 함